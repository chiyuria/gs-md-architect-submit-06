# â‘  èª²é¡Œå

**MD Architect
â€“ Prompt-Protected LLM Writing Tool**

---

# â‘¡ èª²é¡Œå†…å®¹ï¼ˆã©ã‚“ãªä½œå“ã‹ï¼‰

* Markdownãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã€
  **æŒ‡ç¤ºï¼‹Few-shotã‚’ä¸ãˆã¦å†æ§‹æˆãƒ»æ›¸ãæ›ãˆã‚’è¡Œã†AIã‚¨ãƒ‡ã‚£ã‚¿**
* ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆHTML / CSS / JSï¼‰ã¨
  ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼ˆNode.js / Expressï¼‰ã‚’åˆ†é›¢ã—ãŸ **APIæ§‹æˆ**
* LLMï¼ˆGeminiï¼‰ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ **ã™ã¹ã¦ã‚µãƒ¼ãƒãƒ¼çµŒç”±**

  * APIã‚­ãƒ¼ã¯ `.env` ã§ç®¡ç†
  * ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«ã¯ä¸€åˆ‡éœ²å‡ºã—ãªã„
* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ä¸­æ ¸ï¼ˆå‡ºåŠ›ä»•æ§˜ãƒ»ã‚¿ã‚¹ã‚¯å®šç¾©ï¼‰ã¯
  **æ–­ç‰‡åŒ–ãƒ»Base64åŒ–ã—ã¦ vault ã«æ ¼ç´**
* ãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰é€ä¿¡ã™ã‚‹ã®ã¯ä»¥ä¸‹ã®ã¿ï¼š

  * ãƒ¦ãƒ¼ã‚¶ãƒ¼æœ¬æ–‡ï¼ˆsrcï¼‰
  * æŒ‡ç¤ºï¼ˆinstructionsï¼‰
  * Few-shotï¼ˆfewshotï¼‰

  â†’ **ç”Ÿãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å‚ç…§ã§ããªã„æ§‹é€ **

ã“ã®ã‚¢ãƒ—ãƒªã¯å˜ãªã‚‹AIãƒãƒ£ãƒƒãƒˆUIã§ã¯ãªãã€

> **ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’â€œè¨­è¨ˆè³‡ç”£â€ã¨ã—ã¦æ‰±ã„ã€
> ãã‚Œã‚’å®‰å…¨ã«é‹ç”¨ã™ã‚‹ãŸã‚ã®æ§‹æˆå®Ÿé¨“ã€**

ã¨ã—ã¦è¨­è¨ˆã—ã¦ã„ã‚‹ã€‚

---

### ä¸»ãªå½¹å‰²åˆ†æ‹…

* **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**

  * UI
  * ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
  * ç”Ÿæˆçµæœã®è¡¨ç¤ºï¼ˆMarkdown â†’ HTMLï¼‰
* **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰**

  * ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®çµ„ã¿ç«‹ã¦
  * Gemini APIã®å®Ÿè¡Œ
  * ç§˜åŒ¿æƒ…å ±ï¼ˆAPIã‚­ãƒ¼ãƒ»ç”Ÿãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã®ç®¡ç†

---

# â‘¢ ã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ—ãƒ­ã‚¤URL

https://chiyuria.github.io/gs-md-architect-submit-06/

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ã¦å‹•ä½œç¢ºèª
â€» ãƒ•ãƒ­ãƒ³ãƒˆï¼šLive Server
â€» ã‚µãƒ¼ãƒãƒ¼ï¼šNode.jsï¼ˆlocalhost:3000ï¼‰

---

# â‘£ ã‚¢ãƒ—ãƒªã«ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ãŒã‚ã‚‹å ´åˆ

ãªã—

---

# â‘¤ ã“ã ã‚ã£ãŸç‚¹

### â–  ãƒ•ãƒ­ãƒ³ãƒˆã«ã€Œãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç½®ã‹ãªã„ã€è¨­è¨ˆ

* å‡ºåŠ›ä»•æ§˜ãƒ»ã‚¿ã‚¹ã‚¯å®šç¾©ã¯ãƒ•ãƒ­ãƒ³ãƒˆã«ä¸€åˆ‡æŒãŸã›ãªã„
* ãƒ•ãƒ­ãƒ³ãƒˆãŒé€ä¿¡ã™ã‚‹ã®ã¯ä»¥ä¸‹ã®ã¿ï¼š

  * `src`ï¼ˆæœ¬æ–‡ï¼‰
  * `instructions`ï¼ˆæŒ‡ç¤ºï¼‰
  * `fewshot`ï¼ˆå‚è€ƒä¾‹ï¼‰

â†’ **æœ€çµ‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã‚µãƒ¼ãƒãƒ¼å´ã§åˆæˆ**

---

### â–  ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ–­ç‰‡åŒ–ãƒ»ç§˜åŒ¿æ§‹æˆï¼ˆvaultï¼‰

* ç”Ÿãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ `raw_prompts.txt` ã«ã®ã¿å­˜åœ¨
* encoder ã«ã‚ˆã‚Šï¼š

  * åˆ†å‰²
  * Base64åŒ–
  * `fragments.json` / `manifest.json` ã‚’ç”Ÿæˆ
* decoder ã¯ï¼š

  * fragments + manifest ã‹ã‚‰
  * å®Ÿè¡Œæ™‚ã«ã®ã¿ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å¾©å…ƒ

**GitHubã«å…¬é–‹ã—ã¦ã‚‚å†…å®¹ã‚’ç›´æ¥èª­ã‚ãªã„æ§‹æˆ**ã‚’ç¶­æŒã—ã¦ã„ã‚‹ã€‚

---

### â–  ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒãƒ¼å®Œå…¨åˆ†é›¢

* ãƒ•ãƒ­ãƒ³ãƒˆï¼š`127.0.0.1:5500`
* APIï¼š`localhost:3000`
* CORSã‚’æ˜ç¤ºçš„ã«è¨­å®šã—ã€
  **æœ¬ç•ªæ§‹æˆã‚’å‰æã¨ã—ãŸé€šä¿¡è¨­è¨ˆ**ã‚’è¡Œã£ã¦ã„ã‚‹

---

### â–  Markdownç‰¹åŒ–UI

* ç”Ÿæˆçµæœã¯ Markdown ã¨ã—ã¦è¿”å´
* `marked.js` + `highlight.js` ã«ã‚ˆã‚‹å³æ™‚ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
* **ã€Œæ–‡ç« ç”Ÿæˆ â†’ æ§‹é€ ç¢ºèª â†’ å†ç·¨é›†ã€**ã‚’æ„è­˜ã—ãŸUIè¨­è¨ˆ

---

# â‘¥ é›£ã—ã‹ã£ãŸç‚¹ãƒ»æ¬¡å›ãƒˆãƒ©ã‚¤ã—ãŸã„ã“ã¨

### â–  CORS / ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ã‚µãƒ¼ãƒãƒ¼åˆ†é›¢ã®ç†è§£

* Live Server ã¨ Express ã®å½¹å‰²ã®é•ã„
* preflightï¼ˆOPTIONSï¼‰ã®æŒ™å‹•
* ã€Œ405ã€ã€ŒCORS blockedã€ã‚¨ãƒ©ãƒ¼ã®åˆ‡ã‚Šåˆ†ã‘

â†’ **APIè¨­è¨ˆã¸ã®ç†è§£ãŒä¸€æ®µæ·±ã¾ã£ãŸ**

---

### â–  ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç§˜åŒ¿ã¨å®Ÿè¡Œã®ä¸¡ç«‹

* ãƒ•ãƒ­ãƒ³ãƒˆã«ç½®ã‘ã°ç°¡å˜ã ãŒã€ãã‚Œã§ã¯æ„å‘³ãŒãªã„
* ã€Œå®Ÿè¡Œã§ãã‚‹ãŒèª­ã‚ãªã„ã€çŠ¶æ…‹ã‚’ã©ã†ä½œã‚‹ã‹ã«æ‚©ã‚“ã 

---

### â–  æ§‹æˆå¢—åŠ ã«ã‚ˆã‚‹å¿ƒç†çš„è² è·

* server / vault / tools ã«åˆ†ã‘ãŸæ™‚ç‚¹ã§
  å…¨ä½“åƒãŒè¦‹ãˆã«ãããªã£ãŸ
* å½¹å‰²ã”ã¨ã«æ•´ç†ã™ã‚‹ã¨ã€**ã‚€ã—ã‚ç†è§£ãŒé€²ã‚“ã **

---

### â–  æ¬¡å›ã‚„ã‚ŠãŸã„ã“ã¨

* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
* è¤‡æ•°ã‚¿ã‚¹ã‚¯åˆ‡ã‚Šæ›¿ãˆï¼ˆmdFormatter / summarizer ãªã©ï¼‰
* èªè¨¼ä»˜ãAPI
* æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤

---

# â‘¦ ãƒ•ãƒªãƒ¼é …ç›®

* ä»Šå›ã¯ã€Œã¾ãšå‹•ã‹ã™ã€ã‚ˆã‚Šã‚‚
  **ã€Œå°†æ¥ã©ã†å®ˆã‚Œã‚‹ã‹ã€ã‚’å„ªå…ˆã—ã¦è¨­è¨ˆ**
* ãã®çµæœã€

  * API
  * ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  * UI
    ã®è²¬å‹™åˆ†é›¢ã‚’æ˜ç¢ºã«å­¦ã¹ãŸ
* **AIã‚’ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è³‡ç”£ã¨ã—ã¦æ‰±ã†è¦–ç‚¹**ãŒå¾—ã‚‰ã‚ŒãŸ

---

# ğŸ§  MD Architect â€“ README

---

## ğŸ“ æ¦‚è¦ï¼ˆOverviewï¼‰

**MD Architect** ã¯ã€
Markdownæ–‡ç« ã‚’å…¥åŠ›ã—ã€æŒ‡ç¤ºã‚„Few-shotã‚’ä¸ãˆã‚‹ã“ã¨ã§
**æ§‹é€ åŒ–ãƒ»å†ç·¨é›†ã•ã‚ŒãŸMarkdownã‚’ç”Ÿæˆãƒ»ç®¡ç†ã§ãã‚‹AIã‚¨ãƒ‡ã‚£ã‚¿**ã§ã™ã€‚

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€

> **AIç·¨é›† Ã— æ°¸ç¶šåŒ– Ã— ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**

ã‚’æœ€å°æ§‹æˆã§å®Ÿè£…ã—ãŸã€
**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ†é›¢è¨­è¨ˆã‚µãƒ³ãƒ—ãƒ«**ã¨ãªã£ã¦ã„ã¾ã™ã€‚

---

## ğŸ® æ©Ÿèƒ½ä¸€è¦§ï¼ˆFeaturesï¼‰ã€ä¿®æ­£ç‰ˆãƒ»è¿½è¨˜è¾¼ã¿ã€‘

### â–¼ Markdownç”Ÿæˆï¼ˆAIï¼‰

* å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚‚ã¨ã«ã€æ–‡æ›¸æ§‹é€ ã‚’æœ€é©åŒ–
* å¯èª­æ€§ã¨å†åˆ©ç”¨æ€§ã‚’æ„è­˜ã—ãŸMarkdownç”Ÿæˆ
* ç·¨é›†æ„å›³ã«åŸºã¥ãè¡¨ç¾ã®æ•´ç†
* AIå‡¦ç†ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œ

---

### â–¼ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè³‡ç”£ç®¡ç†ï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ï¼‰

* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰å®Œå…¨ã«åˆ†é›¢**
* ç”Ÿãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯Gitç®¡ç†å¤–ã§ä¿æŒ
* å®Ÿè¡Œæ™‚ã«å¿…è¦ãªæ–­ç‰‡ã®ã¿ã‚’å¾©å…ƒã—ã¦ä½¿ç”¨
* ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè³‡ç”£ã®éœ²å‡ºã‚’æŠ‘åˆ¶ã—ãŸè¨­è¨ˆ

---

### â–¼ ãƒ©ã‚¤ãƒ–ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ & ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ

* å…¥åŠ›ã¨åŒæ™‚ã«Markdownã‚’å³æ™‚ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
* `marked.js` ã«ã‚ˆã‚‹ãƒ‘ãƒ¼ã‚¹
* `highlight.js` ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆ

---

### â–¼ Firestoreã‚ªãƒ¼ãƒˆã‚»ãƒ¼ãƒ–

* ç·¨é›†å†…å®¹ã‚’ **Firestore ã«è‡ªå‹•ä¿å­˜**
* å…¥åŠ›åœæ­¢å¾Œã€ä¸€å®šæ™‚é–“ã§ãƒ‡ãƒã‚¦ãƒ³ã‚¹ä¿å­˜
* ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã« **current ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** ã‚’ä¿æŒ

---

### â–¼ ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆVersioningï¼‰

* ä»»æ„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç·¨é›†å†…å®¹ã‚’ **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã—ã¦ã‚³ãƒŸãƒƒãƒˆ**
* Firestoreä¸Šã«å±¥æ­´ã‚’ä¿å­˜
* ãƒ¢ãƒ¼ãƒ€ãƒ«UIã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸€è¦§ã‚’è¡¨ç¤º
* ã‚¯ãƒªãƒƒã‚¯ã§éå»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å³ãƒ­ãƒ¼ãƒ‰

---

## ğŸ§© ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è²¬å‹™åˆ†é›¢

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€
**å½¹å‰²ã”ã¨ã«JSãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ˜ç¢ºã«åˆ†é›¢**ã—ã¦ã„ã¾ã™ã€‚

### â–¼ ä¸»ãªå½¹å‰²åˆ†æ‹…

| ãƒ•ã‚¡ã‚¤ãƒ«                  | å½¹å‰²                          |
| --------------------- | --------------------------- |
| `editorController.js` | UIã‚¤ãƒ™ãƒ³ãƒˆçµ±æ‹¬ / AIå®Ÿè¡Œ / Versionæ“ä½œ |
| `editorStore.js`      | Firestore CRUD / ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–     |
| `markdownRenderer.js` | Markdownãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° / autosaveåˆ¶å¾¡ |
| `uiController.js`     | UIè£œåŠ©æ©Ÿèƒ½                      |
| `modal.js`            | ãƒ¢ãƒ¼ãƒ€ãƒ«åˆ¶å¾¡                      |
| `toast.js`            | ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥                      |
| `firebaseConfig.js`   | FirebaseåˆæœŸåŒ– / Auth          |

---

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆTech Stackï¼‰

### Frontend

* HTML / CSS / JavaScript
* jQuery
* marked.js
* highlight.js

### Backend

* Node.js / Express
* Gemini API

### Storage

* Firebase Authenticationï¼ˆåŒ¿åãƒ­ã‚°ã‚¤ãƒ³ï¼‰
* Firestoreï¼ˆautosave / versionç®¡ç†ï¼‰

---

## ğŸ” APIã‚­ãƒ¼ç®¡ç†ã«ã¤ã„ã¦

* **Gemini APIã‚­ãƒ¼** ã¯ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã® `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¦ã„ã¾ã™
  ï¼ˆãƒªãƒã‚¸ãƒˆãƒªã«ã¯å«ã‚ã¾ã›ã‚“ï¼‰

* **Firebaseã®è¨­å®šæƒ…å ±**ã¯ãƒªãƒã‚¸ãƒˆãƒªã«ã¯å«ã‚ã¦ã„ã¾ã›ã‚“ã€‚  
  Authentication ãŠã‚ˆã³ Firestore Security Rules ã«ã‚ˆã£ã¦ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

---

## ğŸ—‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

### Frontend

```text
docs (app)
â”œâ”€ css
â”œâ”€ js
â”‚  â”œâ”€ app
â”‚  â””â”€ libs
â””â”€ index.html
```

### Backend / Prompt Assets

```text
server
â”œâ”€ .env                (ignored)
â”œâ”€ gemini
â”‚  â””â”€ runGemini.js
â”œâ”€ prompt
â”‚  â””â”€ buildPrompt.js
â”œâ”€ vault
â”‚  â”œâ”€ fragments.json
â”‚  â””â”€ runner.js
â””â”€ package.json

tools
â”œâ”€ encoder.js          (ignored)
â””â”€ raw_prompts.txt     (ignored)
```

---

## ğŸ§© ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆArchitectureï¼‰

```mermaid
flowchart TB

  %% ===== Frontend =====
  subgraph Frontend["Frontend (Browser)"]
    UI["Editor UI<br/>index.html"]
    EC["editorController.js<br/>UIçµ±æ‹¬ / AIå‘¼ã³å‡ºã—"]
    MR["markdownRenderer.js<br/>Preview / Autosave"]
    ES["editorStore.js<br/>Firestoreæ“ä½œ"]
    UI --> EC
    UI --> MR
    EC --> ES
  end

  %% ===== Firebase =====
  subgraph Firebase["Firebase"]
    AUTH["Authentication<br/>(Anonymous)"]
    FS["Firestore"]
    CUR["current document"]
    VER["versions"]
    FS --> CUR
    FS --> VER
  end

  %% ===== Backend =====
  subgraph Backend["Backend API (Node.js / Express)"]
    API["/api/run"]
    BP["buildPrompt.js"]
    AI["runGemini.js<br/>Gemini API"]
    API --> BP --> AI
  end

  %% ===== Prompt Assets =====
  subgraph Assets["Prompt Assets"]
    RAW["raw_prompts.txt<br/>(ignored)"]
    ENC["encoder.js<br/>(ignored)"]
    FRAG["fragments.json"]
    RAW --> ENC --> FRAG
  end

  %% ===== Data Flow =====
  EC -->|AI request| API
  EC -->|save / load| FS
  AUTH --> FS
  FRAG --> BP

```

---

## â–¶ ä½¿ã„æ–¹ï¼ˆHow to Runï¼‰

### 1. Backend

```bash
npm install
node server.js
```

### 2. Frontend

```bash
live-server
```

---

## ğŸ“˜ å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆï¼ˆLearningï¼‰

* ãƒ•ãƒ­ãƒ³ãƒˆï¼ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ†é›¢
* Gemini APIã‚­ãƒ¼ã®å®‰å…¨ãªç®¡ç†ï¼ˆ.envï¼‰
* Firebaseã‚’ç”¨ã„ãŸæ°¸ç¶šåŒ–è¨­è¨ˆ
* ã‚ªãƒ¼ãƒˆã‚»ãƒ¼ãƒ–ã®ãƒ‡ãƒã‚¦ãƒ³ã‚¹åˆ¶å¾¡
* ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†UIå®Ÿè£…

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

å­¦ç¿’ç›®çš„ã§åˆ¶ä½œ

---

## âœ¨ Author

Chiyuria

---

# ğŸ§  MD Architect â€“ README

---

## ğŸ“ Overview

**MD Architect** is an AI-powered Markdown editor that
generates and manages **structured and refined Markdown documents**
based on user input, instructions, and few-shot examples.

This project is not just an AI experiment, but a
**frontend / backend separated architecture sample** that implements:

> **AI-assisted editing Ã— persistence Ã— versioning**

in a minimal and practical setup.

---

## ğŸ® Features

### â–¼ Markdown Generation (AI)

* Optimizes document structure based on input text
* Generates Markdown with readability and reusability in mind
* Refines expressions according to editing intent
* AI processing is executed entirely on the server side

---

### â–¼ Prompt Asset Management (Server-side)

* Prompts are **fully separated from the frontend**
* Raw prompts are kept outside of Git version control
* Only the required fragments are restored at runtime
* Designed to minimize unintended exposure of prompt assets

---

### â–¼ Live Preview & Syntax Highlighting

* Real-time Markdown rendering on input
* Parsing via `marked.js`
* Code highlighting via `highlight.js`

---

### â–¼ Firestore Autosave

* Automatically saves editor content to **Firestore**
* Debounced saving after input stops
* Maintains a per-user **current document**

---

### â–¼ Version Management

* Commit editor content as versions at any time
* Store version history in Firestore
* Display versions in a modal list
* Instantly load selected past versions

---

## ğŸ§© Frontend Responsibility Separation

This project clearly separates frontend responsibilities
by dividing logic into role-specific JavaScript files.

### â–¼ Main Responsibilities

| File                  | Responsibility                                     |
| --------------------- | -------------------------------------------------- |
| `editorController.js` | UI orchestration / AI execution / version handling |
| `editorStore.js`      | Firestore CRUD / data persistence                  |
| `markdownRenderer.js` | Markdown rendering / autosave control              |
| `uiController.js`     | UI utilities                                       |
| `modal.js`            | Modal control                                      |
| `toast.js`            | Toast notifications                                |
| `firebaseConfig.js`   | Firebase initialization / Auth                     |

---

## ğŸ›  Tech Stack

### Frontend

* HTML / CSS / JavaScript
* jQuery
* marked.js
* highlight.js

### Backend

* Node.js / Express
* Gemini API

### Storage

* Firebase Authentication (Anonymous)
* Firestore (autosave / versioning)

---

## ğŸ” API Key Management

* The **Gemini API key** is managed via a server-side `.env` file
  and is not included in the repository.
* **Firebase configuration** is excluded from the repository.
  Authentication and Firestore Security Rules are used for access control.

---

## ğŸ—‚ Directory Structure

### Frontend

```text
docs (app)
â”œâ”€ css
â”œâ”€ js
â”‚  â”œâ”€ app
â”‚  â””â”€ libs
â””â”€ index.html
```

### Backend / Prompt Assets

```text
server
â”œâ”€ .env                (ignored)
â”œâ”€ gemini
â”‚  â””â”€ runGemini.js
â”œâ”€ prompt
â”‚  â””â”€ buildPrompt.js
â”œâ”€ vault
â”‚  â”œâ”€ fragments.json
â”‚  â””â”€ runner.js
â””â”€ package.json

tools
â”œâ”€ encoder.js          (ignored)
â””â”€ raw_prompts.txt     (ignored)
```

---

## ğŸ§© Architecture

```mermaid
flowchart TB

  %% ===== Frontend =====
  subgraph Frontend["Frontend (Browser)"]
    UI["Editor UI<br/>index.html"]
    EC["editorController.js<br/>UI / AI trigger"]
    MR["markdownRenderer.js<br/>Preview / Autosave"]
    ES["editorStore.js<br/>Firestore access"]
    UI --> EC
    UI --> MR
    EC --> ES
  end

  %% ===== Firebase =====
  subgraph Firebase["Firebase"]
    AUTH["Authentication<br/>(Anonymous)"]
    FS["Firestore"]
    CUR["current document"]
    VER["versions"]
    FS --> CUR
    FS --> VER
  end

  %% ===== Backend =====
  subgraph Backend["Backend API (Node.js / Express)"]
    API["/api/run"]
    BP["buildPrompt.js"]
    AI["runGemini.js<br/>Gemini API"]
    API --> BP --> AI
  end

  %% ===== Prompt Assets =====
  subgraph Assets["Prompt Assets"]
    RAW["raw_prompts.txt<br/>(ignored)"]
    ENC["encoder.js<br/>(ignored)"]
    FRAG["fragments.json"]
    RAW --> ENC --> FRAG
  end

  %% ===== Data Flow =====
  EC -->|AI request| API
  EC -->|save / load| FS
  AUTH --> FS
  FRAG --> BP
```

---

## â–¶ How to Run

### 1. Backend

```bash
npm install
node server.js
```

### 2. Frontend

```bash
live-server
```

---

## ğŸ“˜ Learning Points

* Frontend / backend separation
* Secure management of Gemini API keys using `.env`
* Persistence design using Firebase
* Debounced autosave implementation
* Version management UI design

---

## ğŸ“„ License

Created for learning purposes.

---

## âœ¨ Author

Chiyuria

---